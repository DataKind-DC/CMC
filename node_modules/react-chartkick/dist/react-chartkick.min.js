!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((t=t||self).ReactChartkick={},t.React)}(this,function(t,a){"use strict";a=a&&a.hasOwnProperty("default")?a.default:a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e,r=(function(t,e){t.exports=function(){function u(t){return Object.prototype.toString.call(t)==="[object Array]"}function o(t){return t instanceof Function}function n(t){return Object.prototype.toString.call(t)==="[object Object]"&&!o(t)&&t instanceof Object}function a(t,e){var r;for(r in e){if(r==="__proto__"){continue}if(n(e[r])||u(e[r])){if(n(e[r])&&!n(t[r])){t[r]={}}if(u(e[r])&&!u(t[r])){t[r]=[]}a(t[r],e[r])}else if(e[r]!==undefined){t[r]=e[r]}}}function Y(t,e){var r={};a(r,t);a(r,e);return r}var s=/^(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)$/i,d=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([.,]\d+)?($|Z|([+-])(\d\d)(:)?(\d\d)?)/i,h=String(1.5).charAt(1);function l(t){var e,r,n,a,i,o,s,l,c,f,p;f=Object.prototype.toString.call(t);if(f==="[object Date]"){return t}if(f!=="[object String]"){return}n=t.match(d);if(n){p=parseInt(n[1],10);o=parseInt(n[3],10)-1;e=parseInt(n[5],10);r=parseInt(n[7],10);i=n[9]?parseInt(n[9],10):0;c=n[11]?parseInt(n[11],10):0;a=n[12]?parseFloat(h+n[12].slice(1))*1e3:0;l=Date.UTC(p,o,e,r,i,c,a);if(n[13]&&n[14]){s=n[15]*60;if(n[17]){s+=parseInt(n[17],10)}s*=n[14]==="-"?-1:1;l-=s*60*1e3}return new Date(l)}}function y(t){var e,r,n;for(e=0;e<t.length;e++){n=t[e].data;for(r=0;r<n.length;r++){if(n[r][1]<0){return true}}}return false}function v(t){return""+t}function Z(t){return parseFloat(t)}function q(t){var e,r,n,a;if(typeof t!=="object"){if(typeof t==="number"){t=new Date(t*1e3)}else{t=v(t);if(e=t.match(s)){r=parseInt(e[1],10);n=parseInt(e[3],10)-1;a=parseInt(e[5],10);return new Date(r,n,a)}else{var i=t.replace(/ /,"T").replace(" ","").replace("UTC","Z");t=l(i)||new Date(t)}}}return t}function c(t){if(!u(t)){var e=[],r;for(r in t){if(t.hasOwnProperty(r)){e.push([r,t[r]])}}t=e}return t}function f(i,o,s,l,c,f,p,u){return function(t,e,r){var n=t.data;var a=Y({},i);a=Y(a,r||{});if(t.hideLegend||"legend"in e){o(a,e.legend,t.hideLegend)}if(e.title){s(a,e.title)}if("min"in e){l(a,e.min)}else if(!y(n)){l(a,0)}if(e.max){c(a,e.max)}if("stacked"in e){f(a,e.stacked)}if(e.colors){a.colors=e.colors}if(e.xtitle){p(a,e.xtitle)}if(e.ytitle){u(a,e.ytitle)}a=Y(a,e.library||{});return a}}function m(t,e){return t[0].getTime()-e[0].getTime()}function g(t,e){return t[0]-e[0]}function $(t,e){return t-e}function tt(t){return t.getMilliseconds()===0&&t.getSeconds()===0}function et(t){return tt(t)&&t.getMinutes()===0}function rt(t){return et(t)&&t.getHours()===0}function nt(t,e){return rt(t)&&t.getDay()===e}function at(t){return rt(t)&&t.getDate()===1}function it(t){return at(t)&&t.getMonth()===0}function r(t){return!isNaN(q(t))&&v(t).length>=6}function i(t){return typeof t==="number"}function z(t,e,r,n){t=t||"";if(r.prefix){if(e<0){e=e*-1;t+="-"}t+=r.prefix}var a=r.suffix||"";var i=r.precision;var o=r.round;if(r.byteScale){var s=n?r.byteScale:e;if(s>=1099511627776){e/=1099511627776;a=" TB"}else if(s>=1073741824){e/=1073741824;a=" GB"}else if(s>=1048576){e/=1048576;a=" MB"}else if(s>=1024){e/=1024;a=" KB"}else{a=" bytes"}if(i===undefined&&o===undefined){i=3}}if(i!==undefined&&o!==undefined){throw Error("Use either round or precision, not both")}if(!n){if(i!==undefined){e=e.toPrecision(i);if(!r.zeros){e=parseFloat(e)}}if(o!==undefined){if(o<0){var l=Math.pow(10,-1*o);e=parseInt((1*e/l).toFixed(0))*l}else{e=e.toFixed(o);if(!r.zeros){e=parseFloat(e)}}}}if(r.thousands||r.decimal){e=v(e);var c=e.split(".");e=c[0];if(r.thousands){e=e.replace(/\B(?=(\d{3})+(?!\d))/g,r.thousands)}if(c.length>1){e+=(r.decimal||".")+c[1]}}return t+e+a}function ot(t,e,r){if(r in e){return e[r]}else if(r in t.options){return t.options[r]}return null}function p(t){var e,r,n;for(e=0;e<t.length;e++){n=t[e].data;for(r=0;r<n.length;r++){if(n[r][1]!=0){return false}}}return true}var b={maintainAspectRatio:false,animation:false,tooltips:{displayColors:false,callbacks:{}},legend:{},title:{fontSize:20,fontColor:"#333"}},x={scales:{yAxes:[{ticks:{maxTicksLimit:4},scaleLabel:{fontSize:16,fontColor:"#333"}}],xAxes:[{gridLines:{drawOnChartArea:false},scaleLabel:{fontSize:16,fontColor:"#333"},time:{},ticks:{}}]}},st=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],M=function(t,e,r){if(e!==undefined){t.legend.display=!!e;if(e&&e!==true){t.legend.position=e}}else if(r){t.legend.display=false}},w=function(t,e){t.title.display=true;t.title.text=e},t=function(t,e){if(e!==null){t.scales.yAxes[0].ticks.min=Z(e)}},e=function(t,e){t.scales.yAxes[0].ticks.max=Z(e)},C=function(t,e){if(e!==null){t.scales.xAxes[0].ticks.min=Z(e)}},A=function(t,e){t.scales.xAxes[0].ticks.max=Z(e)},_=function(t,e){t.scales.xAxes[0].stacked=!!e;t.scales.yAxes[0].stacked=!!e},k=function(t,e){t.scales.xAxes[0].scaleLabel.display=true;t.scales.xAxes[0].scaleLabel.labelString=e},S=function(t,e){t.scales.yAxes[0].scaleLabel.display=true;t.scales.yAxes[0].scaleLabel.labelString=e},lt=function(t,e){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?"rgba("+parseInt(r[1],16)+", "+parseInt(r[2],16)+", "+parseInt(r[3],16)+", "+e+")":t},ct=function(t){return t!=null},T=function(t,e,r){var n=Math.ceil(t.element.offsetWidth/4/e.labels.length);if(n>25){n=25}else if(n<10){n=10}if(!r.scales.xAxes[0].ticks.callback){r.scales.xAxes[0].ticks.callback=function(t){t=v(t);if(t.length>n){return t.substring(0,n-2)+"..."}else{return t}}}},L=function(t,e,r){var a={prefix:t.options.prefix,suffix:t.options.suffix,thousands:t.options.thousands,decimal:t.options.decimal,precision:t.options.precision,round:t.options.round,zeros:t.options.zeros};if(t.options.bytes){var n=t.data;if(r==="pie"){n=[{data:n}]}var i=0;for(var o=0;o<n.length;o++){var s=n[o];for(var l=0;l<s.data.length;l++){if(s.data[l][1]>i){i=s.data[l][1]}}}var c=1;while(i>=1024){c*=1024;i/=1024}a.byteScale=c}if(r!=="pie"){var f=e.scales.yAxes;if(r==="bar"){f=e.scales.xAxes}if(a.byteScale){if(!f[0].ticks.stepSize){f[0].ticks.stepSize=a.byteScale/2}if(!f[0].ticks.maxTicksLimit){f[0].ticks.maxTicksLimit=4}}if(!f[0].ticks.callback){f[0].ticks.callback=function(t){return z("",t,a,true)}}}if(!e.tooltips.callbacks.label){if(r==="scatter"){e.tooltips.callbacks.label=function(t,e){var r=e.datasets[t.datasetIndex].label||"";if(r){r+=": "}return r+"("+t.xLabel+", "+t.yLabel+")"}}else if(r==="bubble"){e.tooltips.callbacks.label=function(t,e){var r=e.datasets[t.datasetIndex].label||"";if(r){r+=": "}var n=e.datasets[t.datasetIndex].data[t.index];return r+"("+t.xLabel+", "+t.yLabel+", "+n.v+")"}}else if(r==="pie"){e.tooltips.callbacks.label=function(t,e){var r=e.labels[t.index];var n=": ";if(u(r)){r=r.slice();r[0]+=n}else{r+=n}return z(r,e.datasets[t.datasetIndex].data[t.index],a)}}else{var p=r==="bar"?"xLabel":"yLabel";e.tooltips.callbacks.label=function(t,e){var r=e.datasets[t.datasetIndex].label||"";if(r){r+=": "}return z(r,t[p],a)}}}},D=f(Y(b,x),M,w,t,e,_,k,S),O=function(t,e,r,n){var a=[];var i=[];var o=t.options.colors||st;var s=true;var l=true;var c;var f=true;var p=true;var u=true;var d=true;var h=t.data;var y=0;if(r==="bubble"){for(var v=0;v<h.length;v++){var m=h[v];for(var g=0;g<m.data.length;g++){if(m.data[g][2]>y){y=m.data[g][2]}}}}var z,b,x,M,w,C=[],A=[];if(r==="bar"||r==="column"||t.xtype!=="number"&&t.xtype!=="bubble"){var _=[];for(z=0;z<h.length;z++){x=h[z];for(b=0;b<x.data.length;b++){M=x.data[b];w=t.xtype=="datetime"?M[0].getTime():M[0];if(!C[w]){C[w]=new Array(h.length)}C[w][z]=Z(M[1]);if(_.indexOf(w)===-1){_.push(w)}}}if(t.xtype==="datetime"||t.xtype==="number"){_.sort($)}for(b=0;b<h.length;b++){A.push([])}var k;var S;for(S=0;S<_.length;S++){z=_[S];if(t.xtype==="datetime"){k=new Date(Z(z));s=s&&rt(k);if(!c){c=k.getDay()}l=l&&nt(k,c);f=f&&at(k);p=p&&it(k);u=u&&et(k);d=d&&tt(k)}else{k=z}i.push(k);for(b=0;b<h.length;b++){A[b].push(C[z][b]===undefined?null:C[z][b])}}}else{for(var T=0;T<h.length;T++){var L=h[T];var D=[];for(var O=0;O<L.data.length;O++){var E={x:Z(L.data[O][0]),y:Z(L.data[O][1])};if(r==="bubble"){E.r=Z(L.data[O][2])*20/y;E.v=L.data[O][2]}D.push(E)}A.push(D)}}for(z=0;z<h.length;z++){x=h[z];var j=x.color||o[z];var I=r!=="line"?lt(j,.5):j;var B={label:x.name||"",data:A[z],fill:r==="area",borderColor:j,backgroundColor:I,pointBackgroundColor:j,borderWidth:2,pointHoverBackgroundColor:j};if(x.stack){B.stack=x.stack}var N=ot(t,x,"curve");if(N===false){B.lineTension=0}var F=ot(t,x,"points");if(F===false){B.pointRadius=0;B.pointHitRadius=5}B=Y(B,t.options.dataset||{});B=Y(B,x.library||{});B=Y(B,x.dataset||{});a.push(B)}var R=t.options.xmin;var H=t.options.xmax;if(t.xtype==="datetime"){var P="math"in n.helpers;var U=P?"ticks":"time";if(ct(R)){e.scales.xAxes[0][U].min=q(R).getTime()}if(ct(H)){e.scales.xAxes[0][U].max=q(H).getTime()}}else if(t.xtype==="number"){if(ct(R)){e.scales.xAxes[0].ticks.min=R}if(ct(H)){e.scales.xAxes[0].ticks.max=H}}if(t.xtype==="datetime"&&i.length>0){var W=(ct(R)?q(R):i[0]).getTime();var V=(ct(H)?q(H):i[0]).getTime();for(z=1;z<i.length;z++){var Q=i[z].getTime();if(Q<W){W=Q}if(Q>V){V=Q}}var J=(V-W)/(86400*1e3);if(!e.scales.xAxes[0].time.unit){var G;if(p||J>365*10){e.scales.xAxes[0].time.unit="year";G=365}else if(f||J>30*10){e.scales.xAxes[0].time.unit="month";G=30}else if(s||J>10){e.scales.xAxes[0].time.unit="day";G=1}else if(u||J>.5){e.scales.xAxes[0].time.displayFormats={hour:"MMM D, h a"};e.scales.xAxes[0].time.unit="hour";G=1/24}else if(d){e.scales.xAxes[0].time.displayFormats={minute:"h:mm a"};e.scales.xAxes[0].time.unit="minute";G=1/24/60}if(G&&J>0){var K=Math.ceil(J/G/(t.element.offsetWidth/100));if(l&&G===1){K=Math.ceil(K/7)*7}e.scales.xAxes[0].time.unitStepSize=K}}if(!e.scales.xAxes[0].time.tooltipFormat){if(s){e.scales.xAxes[0].time.tooltipFormat="ll"}else if(u){e.scales.xAxes[0].time.tooltipFormat="MMM D, h a"}else if(d){e.scales.xAxes[0].time.tooltipFormat="h:mm a"}}}var X={labels:i,datasets:a};return X},E=function t(e){this.name="chartjs";this.library=e};E.prototype.renderLineChart=function t(e,r){var n={};if(!e.options.max&&p(e.data)){n.max=1}var a=D(e,Y(n,e.options));L(e,a,r);var i=O(e,a,r||"line",this.library);if(e.xtype==="number"){a.scales.xAxes[0].type="linear";a.scales.xAxes[0].position="bottom"}else{a.scales.xAxes[0].type=e.xtype==="string"?"category":"time"}this.drawChart(e,"line",i,a)},E.prototype.renderPieChart=function t(e){var r=Y({},b);if(e.options.donut){r.cutoutPercentage=50}if("legend"in e.options){M(r,e.options.legend)}if(e.options.title){w(r,e.options.title)}r=Y(r,e.options.library||{});L(e,r,"pie");var n=[];var a=[];for(var i=0;i<e.data.length;i++){var o=e.data[i];n.push(o[0]);a.push(o[1])}var s={data:a,backgroundColor:e.options.colors||st};s=Y(s,e.options.dataset||{});var l={labels:n,datasets:[s]};this.drawChart(e,"pie",l,r)},E.prototype.renderColumnChart=function t(e,r){var n;if(r==="bar"){var a=Y(b,x);delete a.scales.yAxes[0].ticks.maxTicksLimit;n=f(a,M,w,C,A,_,k,S)(e,e.options)}else{n=D(e,e.options)}L(e,n,r);var i=O(e,n,"column",this.library);if(r!=="bar"){T(e,i,n)}this.drawChart(e,r==="bar"?"horizontalBar":"bar",i,n)},E.prototype.renderAreaChart=function t(e){this.renderLineChart(e,"area")},E.prototype.renderBarChart=function t(e){this.renderColumnChart(e,"bar")},E.prototype.renderScatterChart=function t(e,r){r=r||"scatter";var n=D(e,e.options);L(e,n,r);if(!("showLines"in n)){n.showLines=false}var a=O(e,n,r,this.library);n.scales.xAxes[0].type="linear";n.scales.xAxes[0].position="bottom";this.drawChart(e,r,a,n)},E.prototype.renderBubbleChart=function t(e){this.renderScatterChart(e,"bubble")},E.prototype.destroy=function t(e){if(e.chart){e.chart.destroy()}},E.prototype.drawChart=function t(e,r,n,a){this.destroy(e);var i={type:r,data:n,options:a};if(e.options.code){window.console.log("new Chart(ctx, "+JSON.stringify(i)+");")}e.element.innerHTML="<canvas></canvas>";var o=e.element.getElementsByTagName("CANVAS")[0];e.chart=new this.library(o,i)};var j={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:false},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}}},I=function(t,e,r){if(e!==undefined){t.legend.enabled=!!e;if(e&&e!==true){if(e==="top"||e==="bottom"){t.legend.verticalAlign=e}else{t.legend.layout="vertical";t.legend.verticalAlign="middle";t.legend.align=e}}}else if(r){t.legend.enabled=false}},B=function(t,e){t.title.text=e},N,F,R,H,P,U=f(j,I,B,function(t,e){t.yAxis.min=e},function(t,e){t.yAxis.max=e},function(t,e){var r=e?e===true?"normal":e:null;t.plotOptions.series.stacking=r;t.plotOptions.area.stacking=r;t.plotOptions.areaspline.stacking=r},function(t,e){t.xAxis.title.text=e},function(t,e){t.yAxis.title.text=e}),W=function(t,e,r){var n={prefix:t.options.prefix,suffix:t.options.suffix,thousands:t.options.thousands,decimal:t.options.decimal,precision:t.options.precision,round:t.options.round,zeros:t.options.zeros};if(r!=="pie"&&!e.yAxis.labels.formatter){e.yAxis.labels.formatter=function(){return z("",this.value,n)}}if(!e.tooltip.pointFormatter){e.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">●</span> '+z(this.series.name+": <b>",this.y,n)+"</b><br/>"}}},V=function t(e){this.name="highcharts";this.library=e};V.prototype.renderLineChart=function t(e,r){r=r||"spline";var n={};if(r==="areaspline"){n={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:false}}}}}if(e.options.curve===false){if(r==="areaspline"){r="area"}else if(r==="spline"){r="line"}}var a=U(e,e.options,n),i,o,s;a.xAxis.type=e.xtype==="string"?"category":e.xtype==="number"?"linear":"datetime";if(!a.chart.type){a.chart.type=r}W(e,a,r);var l=e.data;for(o=0;o<l.length;o++){l[o].name=l[o].name||"Value";i=l[o].data;if(e.xtype==="datetime"){for(s=0;s<i.length;s++){i[s][0]=i[s][0].getTime()}}l[o].marker={symbol:"circle"};if(e.options.points===false){l[o].marker.enabled=false}}this.drawChart(e,l,a)},V.prototype.renderScatterChart=function t(e){var r=U(e,e.options,{});r.chart.type="scatter";this.drawChart(e,e.data,r)},V.prototype.renderPieChart=function t(e){var r=Y(j,{});if(e.options.colors){r.colors=e.options.colors}if(e.options.donut){r.plotOptions={pie:{innerSize:"50%"}}}if("legend"in e.options){I(r,e.options.legend)}if(e.options.title){B(r,e.options.title)}var n=Y(r,e.options.library||{});W(e,n,"pie");var a=[{type:"pie",name:e.options.label||"Value",data:e.data}];this.drawChart(e,a,n)},V.prototype.renderColumnChart=function t(e,r){r=r||"column";var n=e.data;var a=U(e,e.options),i,o,s,l,c=[],f=[];a.chart.type=r;W(e,a,r);for(i=0;i<n.length;i++){s=n[i];for(o=0;o<s.data.length;o++){l=s.data[o];if(!c[l[0]]){c[l[0]]=new Array(n.length);f.push(l[0])}c[l[0]][i]=l[1]}}if(e.xtype==="number"){f.sort($)}a.xAxis.categories=f;var p=[],u;for(i=0;i<n.length;i++){l=[];for(o=0;o<f.length;o++){l.push(c[f[o]][i]||0)}u={name:n[i].name||"Value",data:l};if(n[i].stack){u.stack=n[i].stack}p.push(u)}this.drawChart(e,p,a)},V.prototype.renderBarChart=function t(e){this.renderColumnChart(e,"bar")},V.prototype.renderAreaChart=function t(e){this.renderLineChart(e,"areaspline")},V.prototype.destroy=function t(e){if(e.chart){e.chart.destroy()}},V.prototype.drawChart=function t(e,r,n){this.destroy(e);n.chart.renderTo=e.element.id;n.series=r;if(e.options.code){window.console.log("new Highcharts.Chart("+JSON.stringify(n)+");")}e.chart=new this.library.Chart(n)};var Q={},J=[],G={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},K=function(t,e,r){if(e!==undefined){var n;if(!e){n="none"}else if(e===true){n="right"}else{n=e}t.legend.position=n}else if(r){t.legend.position="none"}},X=function(t,e){t.title=e;t.titleTextStyle={color:"#333",fontSize:"20px"}},ft,pt,ut=function(t,e){t.hAxis.viewWindow.min=e},dt=function(t,e){t.hAxis.viewWindow.max=e},ht=function(t,e){t.isStacked=e?e:false},yt=function(t,e){t.hAxis.title=e;t.hAxis.titleTextStyle.italic=false},vt=function(t,e){t.vAxis.title=e;t.vAxis.titleTextStyle.italic=false},mt=f(G,K,X,function(t,e){t.vAxis.viewWindow.min=e},function(t,e){t.vAxis.viewWindow.max=e},ht,yt,vt),gt=function(t){if(window.attachEvent){window.attachEvent("onresize",t)}else if(window.addEventListener){window.addEventListener("resize",t,true)}t()},zt=function t(e){this.name="google";this.library=e};zt.prototype.renderLineChart=function t(n){var a=this;this.waitForLoaded(n,function(){var t={};if(n.options.curve===false){t.curveType="none"}if(n.options.points===false){t.pointSize=0}var e=mt(n,n.options,t);var r=a.createDataTable(n.data,n.xtype);a.drawChart(n,"LineChart",r,e)})},zt.prototype.renderPieChart=function t(n){var a=this;this.waitForLoaded(n,function(){var t={chartArea:{top:"10%",height:"80%"},legend:{}};if(n.options.colors){t.colors=n.options.colors}if(n.options.donut){t.pieHole=.5}if("legend"in n.options){K(t,n.options.legend)}if(n.options.title){X(t,n.options.title)}var e=Y(Y(G,t),n.options.library||{});var r=new a.library.visualization.DataTable;r.addColumn("string","");r.addColumn("number","Value");r.addRows(n.data);a.drawChart(n,"PieChart",r,e)})},zt.prototype.renderColumnChart=function t(r){var n=this;this.waitForLoaded(r,function(){var t=mt(r,r.options);var e=n.createDataTable(r.data,r.xtype);n.drawChart(r,"ColumnChart",e,t)})},zt.prototype.renderBarChart=function t(n){var a=this;this.waitForLoaded(n,function(){var t={hAxis:{gridlines:{color:"#ccc"}}};var e=f(G,K,X,ut,dt,ht,yt,vt)(n,n.options,t);var r=a.createDataTable(n.data,n.xtype);a.drawChart(n,"BarChart",r,e)})},zt.prototype.renderAreaChart=function t(n){var a=this;this.waitForLoaded(n,function(){var t={isStacked:true,pointSize:0,areaOpacity:.5};var e=mt(n,n.options,t);var r=a.createDataTable(n.data,n.xtype);a.drawChart(n,"AreaChart",r,e)})},zt.prototype.renderGeoChart=function t(n){var a=this;this.waitForLoaded(n,function(){var t={legend:"none",colorAxis:{colors:n.options.colors||["#f6c7b6","#ce502d"]}};var e=Y(Y(G,t),n.options.library||{});var r=new a.library.visualization.DataTable;r.addColumn("string","");r.addColumn("number",n.options.label||"Value");r.addRows(n.data);a.drawChart(n,"GeoChart",r,e)})},zt.prototype.renderScatterChart=function t(c){var f=this;this.waitForLoaded(c,function(){var t={};var e=mt(c,c.options,t);var r=c.data,n=[],a,i,o,s;for(a=0;a<r.length;a++){r[a].name=r[a].name||"Value";s=r[a].data;for(i=0;i<s.length;i++){var l=new Array(r.length+1);l[0]=s[i][0];l[a+1]=s[i][1];n.push(l)}}o=new f.library.visualization.DataTable;o.addColumn("number","");for(a=0;a<r.length;a++){o.addColumn("number",r[a].name)}o.addRows(n);f.drawChart(c,"ScatterChart",o,e)})},zt.prototype.renderTimeline=function t(n){var a=this;this.waitForLoaded(n,"timeline",function(){var t={legend:"none"};if(n.options.colors){t.colors=n.options.colors}var e=Y(Y(G,t),n.options.library||{});var r=new a.library.visualization.DataTable;r.addColumn({type:"string",id:"Name"});r.addColumn({type:"date",id:"Start"});r.addColumn({type:"date",id:"End"});r.addRows(n.data);n.element.style.lineHeight="normal";a.drawChart(n,"Timeline",r,e)})},zt.prototype.destroy=function t(e){if(e.chart){e.chart.clearChart()}},zt.prototype.drawChart=function t(e,r,n,a){this.destroy(e);if(e.options.code){window.console.log("var data = new google.visualization.DataTable("+n.toJSON()+");\nvar chart = new google.visualization."+r+"(element);\nchart.draw(data, "+JSON.stringify(a)+");")}e.chart=new this.library.visualization[r](e.element);gt(function(){e.chart.draw(n,a)})},zt.prototype.waitForLoaded=function t(e,r,n){var a=this;if(!n){n=r;r="corechart"}J.push({pack:r,callback:n});if(Q[r]){this.runCallbacks()}else{Q[r]=true;var i={packages:[r],callback:function(){a.runCallbacks()}};var o=e.__config();if(o.language){i.language=o.language}if(r==="corechart"&&o.mapsApiKey){i.mapsApiKey=o.mapsApiKey}this.library.charts.load("current",i)}},zt.prototype.runCallbacks=function t(){var e,r;for(var n=0;n<J.length;n++){e=J[n];r=this.library.visualization&&(e.pack==="corechart"&&this.library.visualization.LineChart||e.pack==="timeline"&&this.library.visualization.Timeline);if(r){e.callback();J.splice(n,1);n--}}},zt.prototype.createDataTable=function t(e,r){var n,a,i,o,s,l=[],c=[];for(n=0;n<e.length;n++){i=e[n];e[n].name=e[n].name||"Value";for(a=0;a<i.data.length;a++){o=i.data[a];s=r==="datetime"?o[0].getTime():o[0];if(!l[s]){l[s]=new Array(e.length);c.push(s)}l[s][n]=Z(o[1])}}var f=[];var p=true;var u;for(a=0;a<c.length;a++){n=c[a];if(r==="datetime"){u=new Date(Z(n));p=p&&rt(u)}else if(r==="number"){u=Z(n)}else{u=n}f.push([u].concat(l[n]))}if(r==="datetime"){f.sort(m)}else if(r==="number"){f.sort(g);for(n=0;n<f.length;n++){f[n][0]=v(f[n][0])}r="string"}var d=new this.library.visualization.DataTable;r=r==="datetime"&&p?"date":r;d.addColumn(r,"");for(n=0;n<e.length;n++){d.addColumn("number",e[n].name)}d.addRows(f);return d};var bt=[],xt=0,Mt=4;function wt(t,e,r){bt.push([t,e,r]);Ct()}function Ct(){if(xt<Mt){var t=bt.shift();if(t){xt++;_t(t[0],t[1],t[2]);Ct()}}}function At(){xt--;Ct()}function _t(t,e,a){kt(t,e,function(t,e,r){var n=typeof r==="string"?r:r.message;a(n)})}function kt(t,e,r){var n=window.jQuery||window.Zepto||window.$;if(n&&n.ajax){n.ajax({dataType:"json",url:t,success:e,error:r,complete:At})}else{var a=new XMLHttpRequest;a.open("GET",t,true);a.setRequestHeader("Content-Type","application/json");a.onload=function(){At();if(a.status===200){e(JSON.parse(a.responseText),a.statusText,a)}else{r(a,"error",a.statusText)}};a.send()}}var St={},Tt=[];function Lt(t,e){if(document.body.innerText){t.innerText=e}else{t.textContent=e}}function Dt(t,e,r){if(!r){e="Error Loading Chart: "+e}Lt(t,e);t.style.color="#ff0000"}function Ot(e){try{e.__render()}catch(t){Dt(e.element,t.message);throw t}}function Et(e,t){if(typeof t==="string"){wt(t,function(t){e.rawData=t;Ot(e)},function(t){Dt(e.element,t)})}else if(typeof t==="function"){try{t(function(t){e.rawData=t;Ot(e)},function(t){Dt(e.element,t,true)})}catch(t){Dt(e.element,t,true)}}else{e.rawData=t;Ot(e)}}function jt(r){var n=r.element;var a=document.createElement("a");var i=r.options.download;if(i===true){i={}}else if(typeof i==="string"){i={filename:i}}a.download=i.filename||"chart.png";a.style.position="absolute";a.style.top="20px";a.style.right="20px";a.style.zIndex=1e3;a.style.lineHeight="20px";a.target="_blank";var t=document.createElement("img");t.alt="Download";t.style.border="none";t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==";a.appendChild(t);n.style.position="relative";r.__downloadAttached=true;r.__enterEvent=It(n,"mouseover",function(t){var e=t.relatedTarget;if((!e||e!==this&&!Nt(this,e))&&r.options.download){a.href=r.toImage(i);n.appendChild(a)}});r.__leaveEvent=It(n,"mouseout",function(t){var e=t.relatedTarget;if(!e||e!==this&&!Nt(this,e)){if(a.parentNode){a.parentNode.removeChild(a)}}})}function It(t,e,r){if(t.addEventListener){t.addEventListener(e,r,false);return r}else{var n=function(){return r.call(t,window.event)};t.attachEvent("on"+e,n);return n}}function Bt(t,e,r){if(t.removeEventListener){t.removeEventListener(e,r,false)}else{t.detachEvent("on"+e,r)}}function Nt(t,e){if(t===e){return false}while(e&&e!==t){e=e.parentNode}return e===t}function Ft(t){if(t){if(t.product==="Highcharts"){return V}else if(t.charts){return zt}else if(o(t)){return E}}throw new Error("Unknown adapter")}function Rt(t){var e=Ft(t);var r=new e(t);if(Tt.indexOf(r)===-1){Tt.push(r)}}function Ht(){if("Chart"in window){Rt(window.Chart)}if("Highcharts"in window){Rt(window.Highcharts)}if(window.google&&window.google.charts){Rt(window.google)}}function Pt(t,e){if(e==="PieChart"||e==="GeoChart"||e==="Timeline"){return t.length===0}else{for(var r=0;r<t.length;r++){if(t[r].data.length>0){return false}}return true}}function Ut(t,e){if(e.options.messages&&e.options.messages.empty&&Pt(e.data,t)){Lt(e.element,e.options.messages.empty)}else{Wt(t,e);if(e.options.download&&!e.__downloadAttached&&e.adapter==="chartjs"){jt(e)}}}function Wt(t,e){var r,n,a,i;a="render"+t;i=e.options.adapter;Ht();for(r=0;r<Tt.length;r++){n=Tt[r];if((!i||i===n.name)&&o(n[a])){e.adapter=n.name;e.__adapterObject=n;return n[a](e)}}if(Tt.length>0){throw new Error("No charting library found for "+t)}else{throw new Error("No charting libraries found - be sure to include one before your charts")}}var Vt=function(t,e){if(e==="number"){t=Z(t)}else if(e==="datetime"){t=q(t)}else{t=v(t)}return t},Qt=function(t,e){var r=[],n,a;for(a=0;a<t.length;a++){if(e==="bubble"){r.push([Z(t[a][0]),Z(t[a][1]),Z(t[a][2])])}else{n=Vt(t[a][0],e);r.push([n,Z(t[a][1])])}}if(e==="datetime"){r.sort(m)}else if(e==="number"){r.sort(g)}return r};function Jt(t,e){if(Gt(t,i)){return"number"}else if(!e&&Gt(t,r)){return"datetime"}else{return"string"}}function Gt(t,e){var r,n,a;for(r=0;r<t.length;r++){a=c(t[r].data);for(n=0;n<a.length;n++){if(!e(a[n][0])){return false}}}return true}function Kt(t){var e=[],r,n;for(r=0;r<t.length;r++){var a={};for(n in t[r]){if(t[r].hasOwnProperty(n)){a[n]=t[r][n]}}e.push(a)}return e}function Xt(t,e,r){var n;var a=t.options;var i=t.rawData;if(!u(i)||typeof i[0]!=="object"||u(i[0])){i=[{name:a.label,data:i}];t.hideLegend=true}else{t.hideLegend=false}t.xtype=e?e:a.discrete?"string":Jt(i,r);i=Kt(i);for(n=0;n<i.length;n++){i[n].data=Qt(c(i[n].data),t.xtype)}return i}function Yt(t){var e=c(t.rawData),r;for(r=0;r<e.length;r++){e[r]=[v(e[r][0]),Z(e[r][1])]}return e}var Zt=function t(e,r,n){var a;if(typeof e==="string"){a=e;e=document.getElementById(e);if(!e){throw new Error("No element with id "+a)}}this.element=e;this.options=Y(se.options,n||{});this.dataSource=r;se.charts[e.id]=this;Et(this,r);if(this.options.refresh){this.startRefresh()}};Zt.prototype.getElement=function t(){return this.element},Zt.prototype.getDataSource=function t(){return this.dataSource},Zt.prototype.getData=function t(){return this.data},Zt.prototype.getOptions=function t(){return this.options},Zt.prototype.getChartObject=function t(){return this.chart},Zt.prototype.getAdapter=function t(){return this.adapter},Zt.prototype.updateData=function t(e,r){this.dataSource=e;if(r){this.__updateOptions(r)}Et(this,e)},Zt.prototype.setOptions=function t(e){this.__updateOptions(e);this.redraw()},Zt.prototype.redraw=function t(){Et(this,this.rawData)},Zt.prototype.refreshData=function t(){if(typeof this.dataSource==="string"){var e=this.dataSource.indexOf("?")===-1?"?":"&";var r=this.dataSource+e+"_="+(new Date).getTime();Et(this,r)}else if(typeof this.dataSource==="function"){Et(this,this.dataSource)}},Zt.prototype.startRefresh=function t(){var e=this;var r=this.options.refresh;if(r&&typeof this.dataSource!=="string"&&typeof this.dataSource!=="function"){throw new Error("Data source must be a URL or callback for refresh")}if(!this.intervalId){if(r){this.intervalId=setInterval(function(){e.refreshData()},r*1e3)}else{throw new Error("No refresh interval")}}},Zt.prototype.stopRefresh=function t(){if(this.intervalId){clearInterval(this.intervalId);this.intervalId=null}},Zt.prototype.toImage=function t(e){if(this.adapter==="chartjs"){if(e&&e.background&&e.background!=="transparent"){var r=this.chart.chart.canvas;var n=this.chart.chart.ctx;var a=document.createElement("canvas");var i=a.getContext("2d");a.width=n.canvas.width;a.height=n.canvas.height;i.fillStyle=e.background;i.fillRect(0,0,a.width,a.height);i.drawImage(r,0,0);return a.toDataURL("image/png")}else{return this.chart.toBase64Image()}}else{return null}},Zt.prototype.destroy=function t(){if(this.__adapterObject){this.__adapterObject.destroy(this)}if(this.__enterEvent){Bt(this.element,"mouseover",this.__enterEvent)}if(this.__leaveEvent){Bt(this.element,"mouseout",this.__leaveEvent)}},Zt.prototype.__updateOptions=function t(e){var r=e.refresh&&e.refresh!==this.options.refresh;this.options=Y(se.options,e);if(r){this.stopRefresh();this.startRefresh()}},Zt.prototype.__render=function t(){this.data=this.__processData();Ut(this.__chartName(),this)},Zt.prototype.__config=function t(){return St};var qt,$t,te,ee,re,ne,ae,ie,oe,se={LineChart:function(t){function e(){t.apply(this,arguments)}if(t){e.__proto__=t}e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.__processData=function t(){return Xt(this)};e.prototype.__chartName=function t(){return"LineChart"};return e}(Zt),PieChart:function(t){function e(){t.apply(this,arguments)}if(t){e.__proto__=t}e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.__processData=function t(){return Yt(this)};e.prototype.__chartName=function t(){return"PieChart"};return e}(Zt),ColumnChart:function(t){function e(){t.apply(this,arguments)}if(t){e.__proto__=t}e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.__processData=function t(){return Xt(this,null,true)};e.prototype.__chartName=function t(){return"ColumnChart"};return e}(Zt),BarChart:function(t){function e(){t.apply(this,arguments)}if(t){e.__proto__=t}e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.__processData=function t(){return Xt(this,null,true)};e.prototype.__chartName=function t(){return"BarChart"};return e}(Zt),AreaChart:function(t){function e(){t.apply(this,arguments)}if(t){e.__proto__=t}e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.__processData=function t(){return Xt(this)};e.prototype.__chartName=function t(){return"AreaChart"};return e}(Zt),GeoChart:function(t){function e(){t.apply(this,arguments)}if(t){e.__proto__=t}e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.__processData=function t(){return Yt(this)};e.prototype.__chartName=function t(){return"GeoChart"};return e}(Zt),ScatterChart:function(t){function e(){t.apply(this,arguments)}if(t){e.__proto__=t}e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.__processData=function t(){return Xt(this,"number")};e.prototype.__chartName=function t(){return"ScatterChart"};return e}(Zt),BubbleChart:function(t){function e(){t.apply(this,arguments)}if(t){e.__proto__=t}e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.__processData=function t(){return Xt(this,"bubble")};e.prototype.__chartName=function t(){return"BubbleChart"};return e}(Zt),Timeline:function(t){function e(){t.apply(this,arguments)}if(t){e.__proto__=t}e.prototype=Object.create(t&&t.prototype);e.prototype.constructor=e;e.prototype.__processData=function t(){var e,r=this.rawData;for(e=0;e<r.length;e++){r[e][1]=q(r[e][1]);r[e][2]=q(r[e][2])}return r};e.prototype.__chartName=function t(){return"Timeline"};return e}(Zt),charts:{},configure:function(t){for(var e in t){if(t.hasOwnProperty(e)){St[e]=t[e]}}},setDefaultOptions:function(t){se.options=t},eachChart:function(t){for(var e in se.charts){if(se.charts.hasOwnProperty(e)){t(se.charts[e])}}},config:St,options:{},adapters:Tt,addAdapter:Rt,use:function(t){Rt(t);return se}};if(typeof window!=="undefined"&&!window.Chartkick){window.Chartkick=se}return se.default=se}()}(e={exports:{}},e.exports),e.exports);function n(n){function t(t){var e=t.innerRef,r=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===e.indexOf(n)&&(r[n]=t[n]);return r}(t,["innerRef"]);return r.chartType=n,r.ref=e,a.createElement(o,r)}return t.displayName=n.name,t}var i=1,o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.newChartType=function(t){var e=t.data,r={};for(var n in t)t.hasOwnProperty(n)&&"data"!==n&&"id"!==n&&"height"!==n&&"width"!==n&&(r[n]=t[n]);this.element&&(this.chart?this.chart.updateData(e,r):this.chart=new t.chartType(this.element,e,r))},e.prototype.componentDidMount=function(){this.newChartType(this.props)},e.prototype.componentDidUpdate=function(){this.newChartType(this.props)},e.prototype.render=function(){var e=this,t=this.props,r={height:t.height||"300px",lineHeight:t.height||"300px",width:t.width||"100%",textAlign:"center",color:"#999",fontSize:"14px",fontFamily:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif"};return this.chartId=t.id||this.chartId||"chart-"+i++,a.createElement("div",{id:this.chartId,style:r,ref:function(t){return e.element=t}},"Loading...")},e}(a.Component),s=n(r.LineChart),l=n(r.PieChart),c=n(r.ColumnChart),f=n(r.BarChart),p=n(r.AreaChart),u=n(r.ScatterChart),d=n(r.GeoChart),h=n(r.Timeline);t.AreaChart=p,t.BarChart=f,t.ColumnChart=c,t.GeoChart=d,t.LineChart=s,t.PieChart=l,t.ScatterChart=u,t.Timeline=h,t.default=r,Object.defineProperty(t,"__esModule",{value:!0})});
